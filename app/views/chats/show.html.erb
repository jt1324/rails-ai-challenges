<%= turbo_stream_from @chat %>

<%= link_to "â† #{@chat.challenge.name}", challenge_path(@chat.challenge) %>

<h1 id="chat_title"><%= @chat.title %></h1>

<% @chat.messages.each do |message| %>
  <p>
    <strong><%= message.role %></strong>
    <%= raw(render_markdown(message.content)) %>
  </p>
<% end %>

<div id="messages">
  <%= render "messages/messages", messages: @chat.messages %>
</div>

<div id="new_message_container">
  <%= render "messages/form", chat: @chat, message: @message %>
</div>
